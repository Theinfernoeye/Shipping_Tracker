{% include 'dashboard.html' %}
{% block content %}

<div class="container mt-5">

    <!-- Add table -->
    <div class="mb-4">
        <h2>Manage Packages</h2>
        <h4>Add Package</h4>
         {% if messages %}
                    {% for message in messages %}
                        {% if message.tags == 'error' %}
                            {% if not message.extra_tags or 'once' not in message.extra_tags %}
                                <div class="alert alert-danger" role="alert">
                                    {{ message }}
                                </div>
                            {% endif %}
                        {% elif message.tags == 'success' %}
                            {% if not message.extra_tags or 'once' not in message.extra_tags %}
                                <div class="alert alert-success" role="alert">
                                    {{ message }}
                                </div>
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                {% endif %}
        <form method="post" action="/add_package">
            {% csrf_token %}
            <input type="text" name="Shipping_id" placeholder="Package ID" required>
            <input type="text" name="Client_num" placeholder="Client Number" required>
            <input type="text" name="AirwayBill" placeholder="Airway Bill" required>
            <input type="text" name="ShipBill" placeholder="Waterway Bill" required>
            <input type="text" name="Location" placeholder="Location" required>
            <select name="PackageState" class="form-select mb-3" required>
                <option value="">Select State</option>
                <option value="0">Being Packaged</option>
                <option value="1">Leaving warehouse</option>
                <option value="2">In Air</option>
                <option value="3">On Sea</option>
                <option value="4">In country</option>
                <option value="5">Ready for pickup</option>
                <option value="6">Returned</option>
            </select>
            <div class="input-group date mb-3" id="arrivalDatepicker" data-date-format="yyyy-mm-dd">
                <input type="text" name="Arrival_Date" class="form-control" placeholder="Arrival Date" required readonly>
                <span class="input-group-append">
                    <i class="glyphicon glyphicon-calendar"></i>
                </span>
            </div>
            <button type="submit" class="btn btn-primary">Add Package</button>
        </form>
    </div>

</div>

{% endblock %}

<!-- Include JavaScript libraries -->
<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

<script>
    $(document).ready(function () {
        $('#arrivalDatepicker').datepicker({
            format: 'yyyy-mm-dd',
            autoclose: true,
            todayHighlight: true
        }).datepicker('update', new Date());
    });
</script>
